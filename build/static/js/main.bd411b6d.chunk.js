(this["webpackJsonpreact-fund-course"]=this["webpackJsonpreact-fund-course"]||[]).push([[0],{18:function(e,t,n){e.exports={navbar:"Navbar_navbar__lgY2h",navbar__links:"Navbar_navbar__links__1B7sk",navbar__item:"Navbar_navbar__item__2n3Y1"}},22:function(e,t,n){e.exports={Modal__backdrop:"Modal_Modal__backdrop__3ZAYt",active:"Modal_active__2nEsc",Modal__content:"Modal_Modal__content__25TR6"}},25:function(e,t,n){},36:function(e,t,n){e.exports={btn:"Button_btn__k_9sL"}},41:function(e,t,n){e.exports={input:"Input_input__1l0Zd"}},42:function(e,t,n){e.exports={select:"Select_select__WlNKI"}},43:function(e,t,n){e.exports={loader:"Loader_loader__RvqE0",rotate:"Loader_rotate__jtwmg"}},75:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(16),s=n.n(r),o=n(2),i=n(13),u=(n(25),n(18)),l=n.n(u),j=n(7),b=n(44),d=n(36),p=n.n(d),O=n(1),h=["children"],f=function(e){var t=e.children,n=Object(b.a)(e,h);return Object(O.jsx)("button",Object(j.a)(Object(j.a)({},n),{},{className:p.a.btn,children:t}))},x=Object(c.createContext)(null),v=function(){var e=Object(c.useContext)(x),t=(e.isAuth,e.setIsAuth);return Object(O.jsxs)("div",{className:l.a.navbar,children:[Object(O.jsx)(f,{onClick:function(){t(!1),localStorage.removeItem("auth")},children:"Logout"}),Object(O.jsxs)("div",{className:l.a.navbar__links,children:[Object(O.jsx)(i.b,{className:l.a.navbar__item,to:"/login",children:"Login"}),Object(O.jsx)(i.b,{className:l.a.navbar__item,to:"/posts",children:"Posts"}),Object(O.jsx)(i.b,{className:l.a.navbar__item,to:"/count",children:"Counter"})]})]})},m=n(4),_=n(6),g=n.n(_),y=n(12),k=n(15),N=function(e,t,n){var a=function(e,t){return Object(c.useMemo)((function(){return"id"===t?Object(k.a)(e).sort():t?Object(k.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(e,t);return Object(c.useMemo)((function(){return a.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}))}),[n,a])},C=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),u=i[0],l=i[1];return[function(){var t=Object(y.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),l(t.t0.message);case 9:return t.prev=9,r(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}(),a,u]},w=function(e,t){return Math.ceil(e/t)},S=n(39),I=n(40),A=n(21),M=n.n(A),P=function(){function e(){Object(S.a)(this,e)}return Object(I.a)(e,null,[{key:"getAll",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,c,a=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:10,n=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=2,e.next=5,M.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:t,_page:n}});case 5:return c=e.sent,e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("https://jsonplaceholder.typicode.com/posts/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCommentsById",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("https://jsonplaceholder.typicode.com/posts/".concat(t,"/comments"));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E={border:"2px solid tomato",color:"tomato"},L=function(e){var t=e.post,n=e.remove,c=Object(m.g)();return Object(O.jsxs)("div",{className:"post__item",children:[Object(O.jsxs)("div",{className:"post__item__text",children:[Object(O.jsxs)("strong",{children:[t.id,". ",Object(O.jsx)("u",{children:t.title})]}),Object(O.jsx)("p",{children:t.body})]}),Object(O.jsxs)("div",{className:"post__btn",children:[Object(O.jsx)(f,{onClick:function(){return c.push("/posts/".concat(t.id))},style:E,children:"Open"}),Object(O.jsx)(f,{onClick:function(){return n(t)},style:E,children:"Delete"})]})]})},B=n(78),T=n(77),q=function(e){var t=e.posts,n=e.topic,c=e.remove;return Object(O.jsxs)("div",{className:"post__list",children:[Object(O.jsx)("h2",{className:"post__topic",children:t.length?n:"Add new Post"}),Object(O.jsx)("ul",{children:Object(O.jsx)("li",{className:"post",children:Object(O.jsx)(B.a,{children:t.map((function(e){return Object(O.jsx)(T.a,{timeout:500,classNames:"post",children:Object(O.jsx)(L,{remove:c,post:e})},e.id)}))})})})]})},R=n(41),V=n.n(R),Y=Object(c.forwardRef)((function(e,t){return Object(O.jsx)("input",Object(j.a)({ref:t,className:V.a.input},e))})),D=function(e){var t=e.create,n={title:"",body:""},a=Object(c.useState)(n),r=Object(o.a)(a,2),s=r[0],i=r[1],u=Object(c.useState)(1),l=Object(o.a)(u,2),b=l[0],d=l[1],p=function(e){"title"===e.currentTarget.name?i(Object(j.a)(Object(j.a)({},s),{},{title:e.currentTarget.value})):i(Object(j.a)(Object(j.a)({},s),{},{body:e.currentTarget.value}))};return Object(O.jsxs)("form",{className:"form",children:[Object(O.jsx)(Y,{type:"text",name:"title",placeholder:"title",value:s.title,onChange:p}),Object(O.jsx)(Y,{type:"text",name:"text",placeholder:"text",value:s.body,onChange:p}),Object(O.jsx)(f,{type:"submit",onClick:function(e){e.preventDefault(),d(b+1);var c=Object(j.a)({id:b},s);t(c),i(n)},children:"Add"})]})},F=n(42),J=n.n(F),Z=function(e){var t=e.options,n=e.defaultValue,c=e.value,a=e.onChange;return Object(O.jsxs)("select",{value:c,onChange:function(e){return a(e.target.value)},className:J.a.select,children:[Object(O.jsx)("option",{disabled:!0,value:"",children:n}),t.map((function(e){return Object(O.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},G=function(e){var t=e.filter,n=e.setFilter;return Object(O.jsxs)("div",{className:"post__filter",children:[Object(O.jsx)(Y,{value:t.query,onChange:function(e){return n(Object(j.a)(Object(j.a)({},t),{},{query:e.target.value}))},placeholder:"Search"}),Object(O.jsx)(Z,{value:t.sort,defaultValue:"Sort by:",onChange:function(e){return n(Object(j.a)(Object(j.a)({},t),{},{sort:e}))},options:[{value:"id",name:"by id"},{value:"title",name:"by title"},{value:"body",name:"by description"}]})]})},K=n(22),W=n.n(K),z=function(e){var t=e.children,n=e.visible,c=e.setVisible,a=[W.a.Modal__backdrop];return n&&a.push(W.a.active),Object(O.jsx)("div",{className:a.join(" "),onClick:function(){return c(!1)},children:Object(O.jsx)("div",{className:W.a.Modal__content,onClick:function(e){return e.stopPropagation()},children:t})})},H=n(43),Q=n.n(H),U=function(){return Object(O.jsx)("div",{className:Q.a.loader})},X=function(e){var t=e.totalPages,n=e.page,a=e.changePages,r=function(e){return Object(c.useMemo)((function(){for(var t=[],n=0;n<e;n++)t.push(n+1);return t}),[e])}(t);return Object(O.jsx)("div",{className:"paginations_block",children:r.map((function(e){return Object(O.jsx)("span",{className:n===e?"page page_current":"page",onClick:function(){return a(e)},children:e},e)}))})},$={btn_add:{margin:"20px auto",border:"2px solid teal"}};var ee=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(O.jsxs)("div",{className:"counter",children:[Object(O.jsx)(f,{onClick:function(){a(n+1)},children:"Increment"}),Object(O.jsx)("h2",{children:n}),Object(O.jsx)(f,{onClick:function(){a(n-1)},children:"Decrement"})]})},te=function(e){var t=e.comments;return Object(O.jsx)("div",{className:"post__comment",children:t.map((function(e){return Object(O.jsxs)("div",{className:"post__comm_item",children:[Object(O.jsx)("h4",{children:e.email}),Object(O.jsx)("h5",{children:e.name}),Object(O.jsx)("p",{children:e.body})]},e.id)}))})},ne=[{path:"/posts",component:function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],u=s[1],l=Object(c.useState)({sort:"",query:""}),j=Object(o.a)(l,2),b=j[0],d=j[1],p=Object(c.useState)(0),h=Object(o.a)(p,2),x=h[0],v=h[1],m=Object(c.useState)(10),_=Object(o.a)(m,2),S=_[0],I=_[1],A=Object(c.useState)(1),M=Object(o.a)(A,2),E=M[0],L=M[1],B=Object(c.useRef)();Object(c.useEffect)((function(){Y()}),[E,S]);var T=N(n,b.sort,b.query),R=C(Object(y.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getAll(S,E);case 2:t=e.sent,a([].concat(Object(k.a)(n),Object(k.a)(t.data))),c=t.headers["x-total-count"],v(w(c,S));case 6:case"end":return e.stop()}}),e)})))),V=Object(o.a)(R,3),Y=V[0],F=V[1],J=V[2];return function(e,t,n,a){var r=Object(c.useRef)();Object(c.useEffect)((function(){n||(r.current&&r.current.disconnect(),r.current=new IntersectionObserver((function(e,n){e[0].isIntersecting&&t&&a()})),r.current.observe(e.current))}),[n])}(B,E<x,F,(function(){L(E+1)})),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(f,{onClick:Y,children:"Get posts"}),Object(O.jsx)(f,{onClick:function(){return u(!0)},style:$.btn_add,children:"Add new Post"}),Object(O.jsx)(z,{visible:i,setVisible:u,children:Object(O.jsx)(D,{create:function(e){a([].concat(Object(k.a)(n),[e])),u(!1)}})}),Object(O.jsx)(G,{filter:b,setFilter:d}),Object(O.jsx)(Z,{value:S,defaultValue:"Elements on page",onChange:function(e){return I(e)},options:[{value:5,name:"5"},{value:10,name:"10"},{value:15,name:"15"},{value:-1,name:"all"}]}),J&&Object(O.jsxs)("h2",{children:["Error: ",J]}),F&&Object(O.jsx)(U,{}),Object(O.jsx)(q,{remove:function(e){return a(n.filter((function(t){return t.id!==e.id})))},posts:T,topic:"Post List"}),Object(O.jsx)("div",{ref:B}),Object(O.jsx)(X,{totalPages:x,page:E,changePages:function(e){return L(e)}})]})},exact:!0},{path:"/posts/:id",component:function(){var e=Object(m.h)(),t=Object(c.useState)({}),n=Object(o.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(o.a)(s,2),u=i[0],l=i[1],j=C(Object(y.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getById(e.id);case 2:n=t.sent,r(n.data);case 4:case"end":return t.stop()}}),t)})))),b=Object(o.a)(j,3),d=b[0],p=b[1],h=(b[2],C(Object(y.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getCommentsById(e.id);case 2:n=t.sent,l(n.data);case 4:case"end":return t.stop()}}),t)}))))),f=Object(o.a)(h,3),x=f[0],v=f[1];f[2];return Object(c.useEffect)((function(){d(),x()}),[]),Object(O.jsxs)("div",{className:"post__id_page",children:[Object(O.jsxs)("h2",{children:["This is ",e.id," Post Page"]}),p?Object(O.jsx)(U,{}):Object(O.jsx)("h3",{children:a.title}),Object(O.jsx)("h3",{children:Object(O.jsx)("u",{children:"Comments:"})}),v?Object(O.jsx)(U,{}):Object(O.jsx)(te,{comments:u})]})},exact:!0}],ce=[{path:"/login",component:function(){var e=Object(c.useContext)(x),t=(e.isAuth,e.setIsAuth);return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Login Page"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(!0),localStorage.setItem("auth","true")},children:[Object(O.jsx)(Y,{type:"text",name:"name",placeholder:"Your Name"}),Object(O.jsx)(Y,{type:"password",name:"password",placeholder:"Your Password"}),Object(O.jsx)(f,{children:"Enter"})]})]})},exact:!0},{path:"/count",component:function(){return Object(O.jsx)(ee,{})},exact:!1},{path:"/error",component:function(){return Object(O.jsx)("h1",{children:"This page is not found. Error 404"})},exact:!1}],ae=function(){var e=Object(c.useContext)(x),t=e.isAuth;return e.isLoading?Object(O.jsx)(U,{}):t?Object(O.jsxs)(m.d,{children:[ne.map((function(e){return Object(O.jsx)(m.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(O.jsx)(m.a,{to:"/posts"})]}):Object(O.jsxs)(m.d,{children:[ce.map((function(e){return Object(O.jsx)(m.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(O.jsx)(m.a,{to:"/login"})]})};var re=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),s=Object(o.a)(r,2),u=(s[0],s[1]);return Object(c.useEffect)((function(){localStorage.getItem("auth")&&a(!0),u(!1)}),[]),Object(O.jsx)(x.Provider,{value:{isAuth:n,setIsAuth:a,setIsLoading:u},children:Object(O.jsxs)(i.a,{children:[Object(O.jsx)(v,{}),Object(O.jsx)(ae,{})]})})};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(re,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.bd411b6d.chunk.js.map